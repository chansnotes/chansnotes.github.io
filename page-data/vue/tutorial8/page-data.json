{"componentChunkName":"component---src-templates-post-template-tsx","path":"/vue/tutorial8/","result":{"data":{"allMarkdownRemark":{"edges":[{"node":{"html":"<blockquote>\n<p>본 글은 Udemy에서 제공하는 유료 강좌인 Vue.js Complete Guide를 수강하면서 정리한 내용입니다. 저작권 문제시 바로 글을 내리도록 하겠습니다.</p>\n</blockquote>\n<hr>\n<p>Vue 어플리케이션을 만들다보면 컴포넌트들을 많이 생겨납니다.\r\n따라서, 보다 쉬운 유지 및 관리를 위해서 컴포넌트들을 부모와 자식의 형태로 분리시켜 유지하는 것이 좋습니다.</p>\n<p>만약에 자식 컴포넌트가 부모 컴포넌트의 데이터를 이용해야한다면, 어떻게 해야 할까요?</p>\n<p>컴포넌트간의 데이터 커뮤니케이션을 위해서는,\r\n부모에서 자식에게 데이터를 전달하는 Props 객체와\r\n자식이 부모에게 데이터 변경을 알리는 Emit 이벤트가 필요합니다.</p>\n<h2>애초에 왜 Props를 써야하는가?</h2>\n<ul>\n<li>모든 컴포넌트들은 자체 격리된 scope가 존재함</li>\n<li>하위 컴포넌트가 상위 컴포넌트의 data를 직접 참조 못함</li>\n<li>하위 컴포넌트끼리 data 직접 참조 못함</li>\n</ul>\n<hr>\n<h2>Props와 Emit 설명</h2>\n<p><img src=\"https://chansnotes.github.io/images/vue/vue_props1.jpeg\" alt=\"Props 1\"></p>\n<h3>Props</h3>\n<ul>\n<li>이를 Props를 통해 하위 컴포넌트로 전달하게됨 (단방향 바인딩) * 하위 컴포넌트가 부모 컴포넌트의 데이터 변경 불가</li>\n<li>자식 컴포넌트에서 접근하려는 부모 컴포넌트의 data 객체를 <code class=\"language-text\">props</code> 로 명시해야함</li>\n<li>부모 컴포넌트에서 template 혹은 data 객체를 통해 전달</li>\n</ul>\n<h3>Emit</h3>\n<ul>\n<li>Emit event를 통해, 부모에게 변경된 데이터를 전달</li>\n<li>자식 컴포넌트에서 부모 컴포넌트로 커스텀 event를 <code class=\"language-text\">emit</code></li>\n<li>부모 컴포넌트가 event를 <code class=\"language-text\">v-on</code>으로 감지하기</li>\n</ul>\n<hr>\n<h2>Props 사용법</h2>\n<h3>부모 컴포넌트</h3>\n<ol>\n<li><code class=\"language-text\">&lt;script></code> 태그에 자식 컴포넌트 import 후, component 및 data 객체 정의</li>\n<li><code class=\"language-text\">&lt;template></code> 태그에 자식 컴포넌트를 불러오기</li>\n<li>자식 컴포넌트를 불러온 태그에 <code class=\"language-text\">props_이름=“data_객체”</code>와 같은 형태로 정의</li>\n<li>(Option) 동적 바인딩을 위해 <code class=\"language-text\">v-bind</code> 사용\n<ul>\n<li>부모 컴포넌트의 데이터가 업데이트 되면, 자식 컴포넌트도 변경됨</li>\n</ul>\n</li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token comment\">&lt;!-- User.vue ; 부모 컴포넌트 --></span>\r\n<span class=\"token comment\">&lt;!-- name 데이터 객체를 UserDetail로 전달 --></span>\r\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>template</span><span class=\"token punctuation\">></span></span>\r\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>component<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\r\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span> <span class=\"token attr-name\">@click</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>changeName<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>Change<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">></span></span>\r\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>row<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\r\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>app-user-detail</span> <span class=\"token attr-name\">:my-name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>name<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>app-user-detail</span><span class=\"token punctuation\">></span></span>\r\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\r\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\r\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>template</span><span class=\"token punctuation\">></span></span>\r\n\r\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span><span class=\"token punctuation\">></span></span><span class=\"token script\"><span class=\"token language-javascript\">\r\n  <span class=\"token keyword\">import</span> UserDetail from <span class=\"token operator\">...</span>\r\n\r\n  <span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token punctuation\">{</span>\r\n      <span class=\"token function-variable function\">data</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span>\r\n          <span class=\"token literal-property property\">name</span><span class=\"token operator\">:</span> <span class=\"token string\">'Max'</span>\r\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\r\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n      <span class=\"token literal-property property\">components</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n          <span class=\"token literal-property property\">appUserDetail</span> <span class=\"token operator\">:</span> UserDetail\r\n      <span class=\"token punctuation\">}</span>\r\n  <span class=\"token punctuation\">}</span>\r\n</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<h3>자식 컴포넌트</h3>\n<ol>\n<li><code class=\"language-text\">props: ['myProp']</code> 과 같은 형태로 props를 정의</li>\n<li>데이터를 불러올 부분에 <code class=\"language-text\">{{ myProp }}</code> 으로 부모 컴포넌트의 data객체를 불러옴</li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token comment\">&lt;!-- UserDetail.vue ; 자식 컴포넌트 --></span>\r\n<span class=\"token comment\">&lt;!-- 부모 컴포넌트에서 name 데이터를 전달받고, 이를 switchName 메소드로 처리 --></span>\r\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>template</span><span class=\"token punctuation\">></span></span>\r\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>component<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\r\n    {% raw %}\r\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">></span></span>Name: {{ switchName() }}<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span>\r\n    {% endraw %}\r\n    <span class=\"token comment\">&lt;!-- myName대신 methods인 switchName pass 가능 --></span>\r\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\r\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>template</span><span class=\"token punctuation\">></span></span>\r\n\r\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span><span class=\"token punctuation\">></span></span><span class=\"token script\"><span class=\"token language-javascript\">\r\n  <span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token literal-property property\">props</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'myName'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// template에 있는 name과 같아야함</span>\r\n    <span class=\"token literal-property property\">methods</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n      <span class=\"token function\">switchName</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">return</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>myName\r\n          <span class=\"token punctuation\">.</span><span class=\"token function\">split</span><span class=\"token punctuation\">(</span><span class=\"token string\">''</span><span class=\"token punctuation\">)</span>\r\n          <span class=\"token punctuation\">.</span><span class=\"token function\">revers</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\r\n          <span class=\"token punctuation\">.</span><span class=\"token function\">join</span><span class=\"token punctuation\">(</span><span class=\"token string\">''</span><span class=\"token punctuation\">)</span>\r\n        <span class=\"token comment\">// this 사용 가능 = props는 일반 data나 methods 처럼 취급하기 때문에 가능함</span>\r\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n  <span class=\"token punctuation\">}</span>\r\n</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<hr>\n<h2>Props 사용시, 주의 사항들</h2>\n<h3>주의 사항 1: camelCase vs. kebab-case</h3>\n<ul>\n<li>DOM은 case-insensitive함 = 대소 문자를 구분 못함</li>\n<li>자식 컴포넌트에서 <code class=\"language-text\">camelCase</code> 로 props를 정의했다면, 부모 컴포넌트 template에서 불러 올때는, <code class=\"language-text\">&lt;child camel-case=“hello”>&lt;/child></code> 로 정의해서 데이터를 보내야함</li>\n</ul>\n<h3>주의사항 2: 리터럴 vs. 동적</h3>\n<ul>\n<li>부모 컴포넌트 template 태그에 자식 컴포넌트를 불러올 때 발생하는 실수 중, 리터럴 구문을 사용해서 JavaScript 숫자를 전달</li>\n<li><code class=\"language-text\">' '</code> (Quotation mark) 안에 숫자를 적으면, 숫자가 아닌 문자 형태로 전달됨\n<ul>\n<li><strong><code class=\"language-text\">v-bind</code>를 사용해서 숫자를 quotation mark 안에 정의</strong></li>\n</ul>\n</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token comment\">&lt;!-- Literal case\r\n     아래의 경우는 숫자가 아닌 문자를 자식 컴포넌트로 전달 --></span>\r\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>child</span> <span class=\"token attr-name\">new-prop</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>1<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>child</span><span class=\"token punctuation\">></span></span>\r\n\r\n<span class=\"token comment\">&lt;!-- Dynamic case\r\n     v-bind를 통해, 문자가 아니라 JavaScript 숫자를 전달 --></span>\r\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>child</span> <span class=\"token attr-name\">:new-prop</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>1<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>child</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<h3>주의 사항 3: 다수의 데이터를 가진 객체 전달</h3>\n<ul>\n<li>props의 이름을 생략하고, <code class=\"language-text\">v-bind</code> 만으로도 사용이 가능</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token comment\">&lt;!-- 부모 컴포넌트에서 text와 isComplete라는 데이터를 가진 todo 객체 생성 --></span>\r\n<span class=\"token comment\">&lt;!-- 여러개의 데이터를 가진 todo 객체의 이름을 생략하고, v-bind 만으로 props 생성 --></span>\r\n\r\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>template</span><span class=\"token punctuation\">></span></span>\r\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>todo-item</span> <span class=\"token attr-name\">v-bind</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>todo<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>todo-item</span><span class=\"token punctuation\">></span></span>\r\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>template</span><span class=\"token punctuation\">></span></span>\r\n\r\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span><span class=\"token punctuation\">></span></span><span class=\"token script\"><span class=\"token language-javascript\">\r\n  <span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token function\">data</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n      <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token literal-property property\">todo</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n          <span class=\"token literal-property property\">text</span><span class=\"token operator\">:</span> <span class=\"token string\">'new'</span><span class=\"token punctuation\">,</span>\r\n          <span class=\"token literal-property property\">isComplete</span><span class=\"token operator\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span>\r\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n      <span class=\"token punctuation\">}</span>\r\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n  <span class=\"token punctuation\">}</span>\r\n</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span>\r\n\r\n<span class=\"token comment\">&lt;!-- 위의 template는 아래와 같은 역할 --></span>\r\n\r\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>template</span><span class=\"token punctuation\">></span></span>\r\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>todo-item</span>\r\n    <span class=\"token attr-name\"><span class=\"token namespace\">v-bind:</span>text</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>todo.text<span class=\"token punctuation\">\"</span></span>\r\n    <span class=\"token attr-name\"><span class=\"token namespace\">v-bind:</span>is-complete</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>todo.isComplete<span class=\"token punctuation\">\"</span></span>\r\n  <span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>todo-item</span><span class=\"token punctuation\">></span></span>\r\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>template</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<h3>주의 사항 4: 자식 컴포넌트에서 Props 데이터를 저장 및 변경하고 싶을 때</h3>\n<ul>\n<li>자식 컴포넌트에서 <code class=\"language-text\">computed property</code> 사용해서 데이터를 변경\n<ol>\n<li>Props를 통해 부모 컴포넌트의 데이터 받아오기</li>\n<li>받아온 props 데이터를 자식 컴포넌트에서 local variable로 선언 (= 저장)</li>\n<li>computed property를 통해 연산 수행 (= 변경)</li>\n</ol>\n</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// props value를 local variable로 정의</span>\r\n<span class=\"token literal-property property\">props</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'initialcount'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\r\n<span class=\"token function-variable function\">data</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n\t<span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">counter</span><span class=\"token operator\">:</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>initialcount <span class=\"token punctuation\">}</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n<span class=\"token comment\">// props value를 가지고 연산 수행</span>\r\n<span class=\"token literal-property property\">computed</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token function\">incrementCount</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">return</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>initialcount<span class=\"token operator\">++</span>\r\n    <span class=\"token punctuation\">}</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h3>주의 사항 5: 부모 컴포넌트의 속성을 받지 않기</h3>\n<ul>\n<li>부모 컴포넌트에서 정의한 속성을 자식 컴포넌트의 속성으로 설정 하지 않는 방법</li>\n<li><code class=\"language-text\">inhertAttrs: false</code> 를 자식 컴포넌트에 정의</li>\n</ul>\n<hr>\n<h2>Props 검증</h2>\n<ul>\n<li>자식 컴포넌트가 props를 받을 때, 특정 요구사항을 충족시키도록 지정할 수 있음</li>\n<li>Props에 정의가 가능한 <code class=\"language-text\">type</code>에는 7가지 존재\r\n_ String\r\n_ Number\r\n_ Boolean\r\n_ Function\r\n_ Object\r\n_ Array * Symbol</li>\n<li>Props 내부에 <code class=\"language-text\">default</code> (기본 값) 설정 가능</li>\n<li>Props 내부에 <code class=\"language-text\">validator</code> (사용자 정의 유효성 검사 함수) 설정 가능</li>\n<li>Props는 컴포넌트 인스턴스 생성 전에 검증됨 * <strong>default 혹은 validator 함수 내에서 data, computed, methods와 같은 인스턴스 속성은 사용이 불가능</strong></li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token literal-property property\">props</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n\t<span class=\"token comment\">// 기본 타입은 null = 어떤 type이던 ok!</span>\r\n\t<span class=\"token comment\">// 숫자만 가능</span>\r\n\t<span class=\"token literal-property property\">propA</span><span class=\"token operator\">:</span> Number<span class=\"token punctuation\">,</span>\r\n\t<span class=\"token comment\">// String or Number 가능</span>\r\n\t<span class=\"token literal-property property\">propB</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>String<span class=\"token punctuation\">,</span> Number<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\r\n\t<span class=\"token comment\">// String이 무조건 필요</span>\r\n\t<span class=\"token literal-property property\">propC</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n\t\t<span class=\"token literal-property property\">type</span><span class=\"token operator\">:</span> String<span class=\"token punctuation\">,</span>\r\n\t\t<span class=\"token literal-property property\">required</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span>\r\n\t<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n\t<span class=\"token comment\">// 기본 값 100을 가지는 Number</span>\r\n\t<span class=\"token literal-property property\">propD</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n\t\t<span class=\"token literal-property property\">type</span><span class=\"token operator\">:</span> Number<span class=\"token punctuation\">,</span>\r\n\t\t<span class=\"token keyword\">default</span><span class=\"token operator\">:</span> <span class=\"token number\">100</span>\r\n\t<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n\t<span class=\"token comment\">// 객체 및 배열의 기본값은 팩토리 함수에서 반환 되어야함</span>\r\n\t<span class=\"token literal-property property\">propE</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n\t\t<span class=\"token literal-property property\">type</span><span class=\"token operator\">:</span> Object<span class=\"token punctuation\">,</span>\r\n\t\t<span class=\"token function-variable function\">default</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n\t\t\t<span class=\"token keyword\">return</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">message</span><span class=\"token operator\">:</span> <span class=\"token string\">'hello'</span><span class=\"token punctuation\">}</span>\r\n\t\t<span class=\"token punctuation\">}</span>\r\n\t<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n\t<span class=\"token comment\">// Customized 유효성 검사</span>\r\n\t<span class=\"token literal-property property\">propF</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n\t\t<span class=\"token function-variable function\">validator</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">value</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n\t\t\t<span class=\"token keyword\">return</span> value <span class=\"token operator\">></span> <span class=\"token number\">10</span>\r\n\t\t<span class=\"token punctuation\">}</span>\r\n\t<span class=\"token punctuation\">}</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<hr>\n<h2>Emit Event 사용법 (자식에서 부모로!)</h2>\n<ul>\n<li><code class=\"language-text\">$on(eventName)</code> = 이벤트를 감지\r\n_ <code class=\"language-text\">$on</code>은 자식에서 호출한 event는 감지 안함\r\n_ <code class=\"language-text\">v-on</code>은 반드시 template에 지정해야함</li>\n<li><code class=\"language-text\">$emit(eventName)</code> = Parent로 커스텀 Event 보내기</li>\n<li>Parent에서 Event를 Listen 하기 (<code class=\"language-text\">@</code> 사용)</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token comment\">&lt;!-- 부모 컴포넌트 --></span>\r\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>template</span><span class=\"token punctuation\">></span></span>\r\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>component<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\r\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span> <span class=\"token attr-name\">@click</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>changeName<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>Change<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">></span></span>\r\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>row<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\r\n      <span class=\"token comment\">&lt;!-- 이벤트 청취! --></span>\r\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>app-user-detail</span>\r\n        <span class=\"token attr-name\">:name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>name<span class=\"token punctuation\">\"</span></span>\r\n        <span class=\"token attr-name\">@nameResetted</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>name = $event<span class=\"token punctuation\">\"</span></span>\r\n      <span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>app-user-detail</span><span class=\"token punctuation\">></span></span>\r\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>app-user-edit</span><span class=\"token punctuation\">></span></span> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>app-user-edit</span><span class=\"token punctuation\">></span></span>\r\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\r\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\r\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>template</span><span class=\"token punctuation\">></span></span>\r\n<span class=\"token comment\">&lt;!-- 이하 생략 --></span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token comment\">&lt;!-- 자식 컴포넌트 --></span>\r\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>template</span><span class=\"token punctuation\">></span></span>\r\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>component<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\r\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">></span></span>Name: {{ myName }}<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span>\r\n    <span class=\"token comment\">&lt;!-- myName대신 methods인 switchName pass 가능 --></span>\r\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span> <span class=\"token attr-name\">@click</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>resetName<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>Reset<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">></span></span> // Reset 버튼 추가\r\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\r\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>template</span><span class=\"token punctuation\">></span></span>\r\n\r\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span><span class=\"token punctuation\">></span></span><span class=\"token script\"><span class=\"token language-javascript\">\r\n  <span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token literal-property property\">props</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n      <span class=\"token literal-property property\">myName</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token literal-property property\">type</span><span class=\"token operator\">:</span> String<span class=\"token punctuation\">,</span>\r\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// template에 있는 name과 같아야함</span>\r\n    <span class=\"token literal-property property\">methods</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n      <span class=\"token function\">switchName</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">return</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>myName\r\n          <span class=\"token punctuation\">.</span><span class=\"token function\">split</span><span class=\"token punctuation\">(</span><span class=\"token string\">''</span><span class=\"token punctuation\">)</span>\r\n          <span class=\"token punctuation\">.</span><span class=\"token function\">revers</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\r\n          <span class=\"token punctuation\">.</span><span class=\"token function\">join</span><span class=\"token punctuation\">(</span><span class=\"token string\">''</span><span class=\"token punctuation\">)</span>\r\n        <span class=\"token comment\">// this 사용 가능 = props는 일반 data나 methods 처럼 취급하기 때문에 가능함</span>\r\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n      <span class=\"token function\">resetName</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>myName <span class=\"token operator\">=</span> <span class=\"token string\">'Max'</span>\r\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">$emit</span><span class=\"token punctuation\">(</span><span class=\"token string\">'nameResetted'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>myName<span class=\"token punctuation\">)</span> <span class=\"token comment\">// Emit Event로 Parent 컴포넌트에 쏴주기</span>\r\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n  <span class=\"token punctuation\">}</span>\r\n</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<h2>비 부모 - 자식간의 통신은? (내용 보충 필요..)</h2>\n<p><img src=\"https://chansnotes.github.io/images/vue/vue_props1.jpeg\" alt=\"Props 2\"></p>\n<ul>\n<li>부모 컴포넌트에 정의되지 않은 자식 컴포넌트들 간에 데이터 객체를 전달 할 수 있음</li>\n<li>아무것도 정의하지 않은 (비어있는) Vue 인스턴스를 <strong>이벤트 버스</strong> 로 사용</li>\n</ul>\n<ol>\n<li>커스텀 Event 생성 (Emit)</li>\n</ol>\n<ul>\n<li>Parent로 Emit</li>\n<li>Parent에서 event listen</li>\n<li>Child2에서 값을 읽어들임</li>\n</ul>\n<ol start=\"2\">\n<li>Callback 사용</li>\n<li><strong>EventBus 사용 (Best Option)</strong></li>\n</ol>\n<ul>\n<li>main.js 파일에 새로운 Vue 오브젝트 생성\n<ul>\n<li><code class=\"language-text\">export const eventBus = new Vue();</code></li>\n<li>methods 생성\n<ul>\n<li><code class=\"language-text\">changeAge(age) { this.$emit('ageWasEdited', age);}</code> = Emit logic in EventBus</li>\n<li>기존에 <code class=\"language-text\">eventBus.$emit()</code>안써도 됨</li>\n<li><code class=\"language-text\">eventBus.changeAge(this.userAge);</code>로 간단하게 불러올수 있음</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<ol start=\"4\">\n<li><code class=\"language-text\">{ eventBus }</code> 를 import 하기</li>\n<li>Method에 <code class=\"language-text\">eventBus.$emit(...)</code> = Child 컴포넌트에 emit된것이 아니라, eventBus로 emit됨</li>\n<li>불러오려는 child에서 새로운 method 생성\n<ul>\n<li><code class=\"language-text\">eventBus.$on(name, (data)=> { this.name = ...;});</code> 으로 불러오기</li>\n</ul>\n</li>\n</ol>\n<hr>\n<h2>기타 유용한 팁들</h2>\n<h3>컴포넌트에 Native 이벤트 바인딩</h3>\n<ul>\n<li>컴포넌트의 root element에서 네이티브 이벤트를 수신하고자 할 때</li>\n<li>.native 를 v-on에 붙여 사용</li>\n<li><code class=\"language-text\">v-on:click.native=\"doSomething\"</code></li>\n</ul>\n<h3>양방향 바인딩</h3>\n<ul>\n<li>Props는 기본적으로 단방향 바인딩임 (부모에서 자식만 가능)</li>\n<li><code class=\"language-text\">.sync</code>를 사용하면, 자식에서의 변경이 부모에 반영됨\n<ul>\n<li>자동으로 <code class=\"language-text\">v-on</code>으로 확장됨</li>\n</ul>\n</li>\n<li>2.0 버전에서 삭제되었다가, 2.3에 다시 부활\r\n_ 재사용 가능한 컴포넌트 만들 때 유용\r\n_ 부모 상태에 영향을 미치기 때문에, 유지보수 문제 발생 가능성 * 자식 컴포넌트에서 명시적으로 이벤트를 보내서 부모 컴포넌트에 변경사항 전달</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token comment\">&lt;!-- .sync 사용하는 부모 컴포넌트 코드 --></span>\r\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>comp</span> <span class=\"token attr-name\">:foo.sync</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>bar<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>comp</span><span class=\"token punctuation\">></span></span>\r\n\r\n<span class=\"token comment\">&lt;!-- 위와 똑같은 역할을 하는 코드 --></span>\r\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>comp</span> <span class=\"token attr-name\">:foo</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>bar<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\"><span class=\"token namespace\">@update:</span>foo</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>val => bar = val<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>comp</span><span class=\"token punctuation\">></span></span>\r\n\r\n<span class=\"token comment\">&lt;!-- 자식 컴포넌트에서 foo를 갱신하는 코드\r\n     속성 변경 대신, event를 emit  --></span>\r\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span><span class=\"token punctuation\">></span></span><span class=\"token script\"><span class=\"token language-javascript\">\r\n  <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">$emit</span><span class=\"token punctuation\">(</span><span class=\"token string\">'update:foo'</span><span class=\"token punctuation\">,</span> newValue<span class=\"token punctuation\">)</span>\r\n</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<hr>\n<p>이번 포스트에서는 Vue 컴포넌트간의 커뮤니케이션 방법인 Props와 Emit에 대해 정리하였습니다.\r\n다음편에는 Slot에 대해 정리하겠습니다.</p>\n<p>부실한 내용이나 틀린 내용이 있다면 자유롭게 댓글로 달아주세요 :)</p>","frontmatter":{"title":"Vue.js 뽀개기 (8) 컴포넌트 커뮤니케이션 - Props와 Emit","excerpt":"Vue의 컴포넌트끼리 데이터를 주고 받는 방식인 Props와 Emit에 대해 정리하는 글입니다.","date":"2019.06.07.","category":"vue","thumbnail":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","placeholder":{"fallback":"data:image/jpeg;base64,/9j/2wBDAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/2wBDAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/wgARCAAPABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAQHA//EABYBAQEBAAAAAAAAAAAAAAAAAAEFCP/aAAwDAQACEAMQAAABQVqO8vPstKWJ/8QAGRAAAwEBAQAAAAAAAAAAAAAAAAIEFBID/9oACAEBAAEFAkmXryiqRcxkHn7Mh//EACIRAAEBBgcAAAAAAAAAAAAAAAERAAIDFiIxEiEyUVJxkf/aAAgBAwEBPwGYIiGu+HdaStJsFs8uoZNMETmfem//xAAgEQABAwIHAAAAAAAAAAAAAAABABEhFjIzQVFSYWOh/9oACAECAQE/AaqL4rCHDnKQ2k3bhCqvs9PC/8QAJRAAAAQEBQUAAAAAAAAAAAAAAQIDEgAEETEQEyIyoRQhQWGC/9oACAEBAAY/Ai5gCyoPbub5p7Dm0LdaVMD54py2TtVl07zg1EWlmHFBFK5GKOE3aLYBoIWgU01t9GNxS8Wj/8QAHBABAQACAwEBAAAAAAAAAAAAEQEAITFxkVGx/9oACAEBAAE/IenPPJs2BuSwH04VvZWxLUmtQdXTHjrPZn6sjAOgbIG2uDq9mf/aAAwDAQACAAMAAAAQIP8A/8QAHREBAQABBAMAAAAAAAAAAAAAAREhQVFhcZGhwf/aAAgBAwEBPxAm2btGIgmVhMSiM9bq+uDx3P/EAB0RAQABBAMBAAAAAAAAAAAAAAERACExYUFRkfD/2gAIAQIBAT8QUCTMymd5OaS1hHipdOPo7fNNf//EABsQAQACAwEBAAAAAAAAAAAAAAEAESEx8BDR/9oACAEBAAE/EAOmhYSwV6tXyWUUGmjDjl/NZlUnqE7/ABh7GRxBASMMVHVwR4r/AP/Z"},"images":{"fallback":{"src":"/static/f7a2cb1b53db588bfdc14d4b5dcd2d35/ffa24/logo.jpg","srcSet":"/static/f7a2cb1b53db588bfdc14d4b5dcd2d35/d04ec/logo.jpg 256w,\n/static/f7a2cb1b53db588bfdc14d4b5dcd2d35/6f7c6/logo.jpg 512w,\n/static/f7a2cb1b53db588bfdc14d4b5dcd2d35/ffa24/logo.jpg 1024w","sizes":"(min-width: 1024px) 1024px, 100vw"},"sources":[{"srcSet":"/static/f7a2cb1b53db588bfdc14d4b5dcd2d35/e92ac/logo.webp 256w,\n/static/f7a2cb1b53db588bfdc14d4b5dcd2d35/dcf1b/logo.webp 512w,\n/static/f7a2cb1b53db588bfdc14d4b5dcd2d35/afeb4/logo.webp 1024w","type":"image/webp","sizes":"(min-width: 1024px) 1024px, 100vw"}]},"width":1024,"height":768}},"publicURL":"/static/f7a2cb1b53db588bfdc14d4b5dcd2d35/logo.jpeg"}}}}]}},"pageContext":{"slug":"/vue/tutorial8/"}},"staticQueryHashes":[],"slicesMap":{}}