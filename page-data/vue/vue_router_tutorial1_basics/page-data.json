{"componentChunkName":"component---src-templates-post-template-tsx","path":"/vue/vue_router_tutorial1_basics/","result":{"data":{"allMarkdownRemark":{"edges":[{"node":{"html":"<blockquote>\n<p>Vue Router 공식문서를 참조하여 정리하였습니다.</p>\n</blockquote>\n<hr>\n<p>Vue는 기본적으로 Single Page Application (SPA)를 지향하는 웹 프레임워크입니다.\r\n따라서, Vue를 사용하게되면 자연스럽게 컴포넌트들을 중심으로 앱을 만들어가게 됩니다.\r\n만약 Vue 앱이 여러 페이지의 컴포넌트들로 구성되어 있다면, 어떻게 컴포넌트간에 페이지 이동을 할 수 있을까요?\r\nVue Router는 바로 이러한 <strong>컴포넌트간의 페이지 이동</strong> 을 도와주기위해 만들어졌습니다.</p>\n<p>더 이상의 자세한 설명은 생략하고, 빠르게 핵심을 정리해보겠습니다.</p>\n<h2>기본 사용법</h2>\n<ul>\n<li><code class=\"language-text\">&lt;router-view></code> 태그를 사용해서 주어진 라우트에 일치하는 컴포넌트를 렌더링</li>\n<li><code class=\"language-text\">router.js</code> 파일에 라우트와 렌더링 할 컴포넌트를 정의</li>\n<li>아래는 Vuetify와 함께 사용하려고 만든 폴더 구조를 적은 예시입니다.</li>\n</ul>\n<h4>폴더구조</h4>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token builtin class-name\">.</span>\r\nApp.vue\r\nmain.js\r\n└── router          --<span class=\"token operator\">></span> Router 관련 파일을 보관하는 폴더\r\n ├── index.js       --<span class=\"token operator\">></span> 라우터 모듈을 router 객체로 내보내는 역할\r\n └── path.js        --<span class=\"token operator\">></span> route와 해당하는 컴포넌트를 정의함</code></pre></div>\n<h4>App.vue</h4>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>template</span><span class=\"token punctuation\">></span></span>\r\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>router-view</span> <span class=\"token punctuation\">/></span></span>\r\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>template</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<h4>index.js</h4>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">import</span> Vue <span class=\"token keyword\">from</span> <span class=\"token string\">'vue'</span>\r\n<span class=\"token keyword\">import</span> Router <span class=\"token keyword\">from</span> <span class=\"token string\">'vue-router'</span>\r\n<span class=\"token keyword\">import</span> paths <span class=\"token keyword\">from</span> <span class=\"token string\">'./paths'</span>\r\n\r\n<span class=\"token comment\">// component 폴더의 vue 파일들을 컴포넌트로 import</span>\r\n<span class=\"token keyword\">function</span> <span class=\"token function\">route</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">path<span class=\"token punctuation\">,</span> view<span class=\"token punctuation\">,</span> name</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token literal-property property\">name</span><span class=\"token operator\">:</span> name <span class=\"token operator\">||</span> view<span class=\"token punctuation\">,</span>\r\n    path<span class=\"token punctuation\">,</span>\r\n    <span class=\"token function-variable function\">component</span><span class=\"token operator\">:</span> <span class=\"token parameter\">resovle</span> <span class=\"token operator\">=></span> <span class=\"token keyword\">import</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">@/components/</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>component<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">.vue</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span>resovle<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\r\n  <span class=\"token punctuation\">}</span>\r\n<span class=\"token punctuation\">}</span>\r\n\r\nVue<span class=\"token punctuation\">.</span><span class=\"token function\">use</span><span class=\"token punctuation\">(</span>Router<span class=\"token punctuation\">)</span>\r\n\r\n<span class=\"token comment\">// router 객체를 정의</span>\r\n<span class=\"token keyword\">const</span> router <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Router</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\r\n  <span class=\"token comment\">// html5 히스토리 모드를 사용하도록 설정 (!! 매우 중요 !!)</span>\r\n  <span class=\"token comment\">// 히스토리 모드를 사용해야 히스토리 스택처럼 작동</span>\r\n  <span class=\"token literal-property property\">mode</span><span class=\"token operator\">:</span> <span class=\"token string\">'history'</span><span class=\"token punctuation\">,</span>\r\n\r\n  <span class=\"token comment\">// import한 컴포넌트들을 라우트에 맵핑 + 기본 라우트 '/'를 concatenate</span>\r\n  <span class=\"token literal-property property\">routes</span><span class=\"token operator\">:</span> paths\r\n    <span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">path</span> <span class=\"token operator\">=></span> <span class=\"token function\">route</span><span class=\"token punctuation\">(</span>path<span class=\"token punctuation\">.</span>path<span class=\"token punctuation\">,</span> path<span class=\"token punctuation\">.</span>view<span class=\"token punctuation\">,</span> path<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\r\n    <span class=\"token punctuation\">.</span><span class=\"token function\">concat</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">path</span><span class=\"token operator\">:</span> <span class=\"token string\">'*'</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">redirect</span><span class=\"token operator\">:</span> <span class=\"token string\">'/'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\r\n\r\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> router</code></pre></div>\n<h4>path.js</h4>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token punctuation\">[</span>\r\n  <span class=\"token punctuation\">{</span>\r\n    <span class=\"token literal-property property\">path</span><span class=\"token operator\">:</span> <span class=\"token string\">'/'</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token literal-property property\">component</span><span class=\"token operator\">:</span> <span class=\"token string\">'Home'</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token literal-property property\">name</span><span class=\"token operator\">:</span> <span class=\"token string\">'home'</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// prop으로 전달이 가능한 이름을 정의</span>\r\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n<span class=\"token punctuation\">]</span></code></pre></div>\n<hr>\n<h2>동적 라우트</h2>\n<ul>\n<li>동일한 레이아웃을 가지지만, 라우트를 다르게 설정하고 싶다면 동적 라우트를 사용하면 됩니다.\n<ul>\n<li>예를 들어 user1과 user2의 페이지를 다른 라우트에 렌더링 하고 싶을때</li>\n</ul>\n</li>\n<li>동적 라우트는 <code class=\"language-text\">:</code>을 사용\n<ul>\n<li>여러 동적 라우트를 중첩도 가능</li>\n</ul>\n</li>\n</ul>\n<h3>사용법</h3>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> router <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">VueRouter</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\r\n  <span class=\"token literal-property property\">routes</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\r\n    <span class=\"token punctuation\">{</span>\r\n      <span class=\"token literal-property property\">path</span><span class=\"token operator\">:</span> <span class=\"token string\">'/user/:id'</span><span class=\"token punctuation\">,</span>\r\n      <span class=\"token literal-property property\">component</span><span class=\"token operator\">:</span> User<span class=\"token punctuation\">,</span>\r\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n  <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div>\n<h3>라우트 객체 속성 (API 참조)</h3>\n<ul>\n<li>라우트 객체의 속성들은 <code class=\"language-text\">this.$route.</code>을 사용해서 접근이 가능</li>\n</ul>\n<ol>\n<li><code class=\"language-text\">$route.path</code></li>\n<li><code class=\"language-text\">$route.params</code>\n<ul>\n<li>현 라우트의 key/value 쌍과 관련된 모든 정보를 반환</li>\n</ul>\n</li>\n<li><code class=\"language-text\">$route.query</code>\n<ul>\n<li>key/value 쌍의 쿼리 문자를 반환</li>\n</ul>\n</li>\n<li><code class=\"language-text\">$route.hash</code>\n<ul>\n<li>현 라우트의 <code class=\"language-text\">#</code>를 반환</li>\n</ul>\n</li>\n<li><code class=\"language-text\">$route.fullpath</code>\n<ul>\n<li>query와 hash를 포함한 주소를 반환</li>\n</ul>\n</li>\n<li><code class=\"language-text\">$route.matched</code>\n<ul>\n<li>현 라우트에 중첩된 모든 경로의 기록을 반환</li>\n</ul>\n</li>\n<li><code class=\"language-text\">$route.name</code>\n<ul>\n<li>현 라우트의 이름</li>\n</ul>\n</li>\n<li><code class=\"language-text\">$route.redirectedFrom</code>\n<ul>\n<li>문자그대로 리다이렉트가 발생한 라우트의 이름</li>\n</ul>\n</li>\n</ol>\n<hr>\n<h2>중첩 라우트</h2>\n<ul>\n<li>컴포넌트안에 컴포넌트를 중첩시켜 렌더링을 하려면 <code class=\"language-text\">children</code> 객체를 정의해야함</li>\n</ul>\n<h3>사용법</h3>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> router <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">VueRouter</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\r\n  <span class=\"token literal-property property\">routes</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\r\n    <span class=\"token punctuation\">{</span>\r\n      <span class=\"token literal-property property\">path</span><span class=\"token operator\">:</span> <span class=\"token string\">'/user/:id'</span><span class=\"token punctuation\">,</span>\r\n      <span class=\"token literal-property property\">component</span><span class=\"token operator\">:</span> User<span class=\"token punctuation\">,</span>\r\n      <span class=\"token literal-property property\">children</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\r\n        <span class=\"token punctuation\">{</span>\r\n          <span class=\"token literal-property property\">path</span><span class=\"token operator\">:</span> <span class=\"token string\">'profile'</span><span class=\"token punctuation\">,</span>\r\n          <span class=\"token literal-property property\">component</span><span class=\"token operator\">:</span> Profile<span class=\"token punctuation\">,</span>\r\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n        <span class=\"token punctuation\">{</span>\r\n          <span class=\"token literal-property property\">path</span><span class=\"token operator\">:</span> <span class=\"token string\">'post'</span><span class=\"token punctuation\">,</span>\r\n          <span class=\"token literal-property property\">component</span><span class=\"token operator\">:</span> Post<span class=\"token punctuation\">,</span>\r\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n      <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n  <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div>\n<hr>\n<h2>리다이렉트</h2>\n<ul>\n<li>가끔 사용자가 원치 않는 라우트로 접속하려는 시도가 있을 수 있음. 이럴 때, 리다이렉트 기능을 사용해서 내가 원하는 위치의 라우트로 사용자를 되돌려 보내야함</li>\n<li><code class=\"language-text\">redirect</code>를 추가해주면됨</li>\n</ul>\n<h4>사용법</h4>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> router <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">VueRouter</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\r\n  <span class=\"token literal-property property\">routes</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\r\n    <span class=\"token punctuation\">{</span>\r\n      <span class=\"token literal-property property\">path</span><span class=\"token operator\">:</span> <span class=\"token string\">'/user/:id'</span><span class=\"token punctuation\">,</span>\r\n      <span class=\"token literal-property property\">component</span><span class=\"token operator\">:</span> User<span class=\"token punctuation\">,</span>\r\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token punctuation\">{</span>\r\n      <span class=\"token literal-property property\">path</span><span class=\"token operator\">:</span> <span class=\"token string\">'/a'</span><span class=\"token punctuation\">,</span>\r\n      <span class=\"token literal-property property\">redirect</span><span class=\"token operator\">:</span> <span class=\"token string\">'/user/:id'</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n  <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div>\n<h4>Alias를 사용한 리다이렉트</h4>\n<ul>\n<li>실제로는 component를 렌더링 하는 라우트지만, alias에 사용한 주소를 방문한거처럼 URL를 바꾸는 방법</li>\n<li>사실 언제 써야 하는건지 잘 모르겠음…</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> router <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">VueRouter</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\r\n  <span class=\"token literal-property property\">routes</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\r\n    <span class=\"token punctuation\">{</span>\r\n      <span class=\"token literal-property property\">path</span><span class=\"token operator\">:</span> <span class=\"token string\">'/a'</span><span class=\"token punctuation\">,</span>\r\n      <span class=\"token literal-property property\">component</span><span class=\"token operator\">:</span> <span class=\"token constant\">A</span><span class=\"token punctuation\">,</span>\r\n      <span class=\"token literal-property property\">alias</span><span class=\"token operator\">:</span> <span class=\"token string\">'/b'</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n  <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div>\n<hr>\n<h2>마무리</h2>\n<p>틀린 내용이 있다면 자유롭게 댓글로 달아주세요 :)</p>","frontmatter":{"title":"[Vue-Router] (1) 기본 사용법","excerpt":"Vue router 기본 사용법, 동적 라우트, 중첩 라우트, 리다이렉트 방법에 대해 설명합니다.","date":"2019.07.13.","category":"vue","thumbnail":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","placeholder":{"fallback":"data:image/jpeg;base64,/9j/2wBDAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/2wBDAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/wgARCAAPABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAQHA//EABYBAQEBAAAAAAAAAAAAAAAAAAEFCP/aAAwDAQACEAMQAAABQVqO8vPstKWJ/8QAGRAAAwEBAQAAAAAAAAAAAAAAAAIEFBID/9oACAEBAAEFAkmXryiqRcxkHn7Mh//EACIRAAEBBgcAAAAAAAAAAAAAAAERAAIDFiIxEiEyUVJxkf/aAAgBAwEBPwGYIiGu+HdaStJsFs8uoZNMETmfem//xAAgEQABAwIHAAAAAAAAAAAAAAABABEhFjIzQVFSYWOh/9oACAECAQE/AaqL4rCHDnKQ2k3bhCqvs9PC/8QAJRAAAAQEBQUAAAAAAAAAAAAAAQIDEgAEETEQEyIyoRQhQWGC/9oACAEBAAY/Ai5gCyoPbub5p7Dm0LdaVMD54py2TtVl07zg1EWlmHFBFK5GKOE3aLYBoIWgU01t9GNxS8Wj/8QAHBABAQACAwEBAAAAAAAAAAAAEQEAITFxkVGx/9oACAEBAAE/IenPPJs2BuSwH04VvZWxLUmtQdXTHjrPZn6sjAOgbIG2uDq9mf/aAAwDAQACAAMAAAAQIP8A/8QAHREBAQABBAMAAAAAAAAAAAAAAREhQVFhcZGhwf/aAAgBAwEBPxAm2btGIgmVhMSiM9bq+uDx3P/EAB0RAQABBAMBAAAAAAAAAAAAAAERACExYUFRkfD/2gAIAQIBAT8QUCTMymd5OaS1hHipdOPo7fNNf//EABsQAQACAwEBAAAAAAAAAAAAAAEAESEx8BDR/9oACAEBAAE/EAOmhYSwV6tXyWUUGmjDjl/NZlUnqE7/ABh7GRxBASMMVHVwR4r/AP/Z"},"images":{"fallback":{"src":"/static/f7a2cb1b53db588bfdc14d4b5dcd2d35/ffa24/logo.jpg","srcSet":"/static/f7a2cb1b53db588bfdc14d4b5dcd2d35/d04ec/logo.jpg 256w,\n/static/f7a2cb1b53db588bfdc14d4b5dcd2d35/6f7c6/logo.jpg 512w,\n/static/f7a2cb1b53db588bfdc14d4b5dcd2d35/ffa24/logo.jpg 1024w","sizes":"(min-width: 1024px) 1024px, 100vw"},"sources":[{"srcSet":"/static/f7a2cb1b53db588bfdc14d4b5dcd2d35/e92ac/logo.webp 256w,\n/static/f7a2cb1b53db588bfdc14d4b5dcd2d35/dcf1b/logo.webp 512w,\n/static/f7a2cb1b53db588bfdc14d4b5dcd2d35/afeb4/logo.webp 1024w","type":"image/webp","sizes":"(min-width: 1024px) 1024px, 100vw"}]},"width":1024,"height":768}},"publicURL":"/static/f7a2cb1b53db588bfdc14d4b5dcd2d35/logo.jpeg"}}}}]}},"pageContext":{"slug":"/vue/vue_router_tutorial1_basics/"}},"staticQueryHashes":[],"slicesMap":{}}